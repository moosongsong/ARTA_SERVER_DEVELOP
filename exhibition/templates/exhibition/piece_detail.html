{% extends 'arta_front_develop/arta_base.html' %}
{% load static %}
{% block header_title %}<title>ARTA 작품 보기</title>{% endblock %}
{% block script_blcok %}
    <script>
        //카카오 공유
        function shareKakao() {
            Kakao.init('61d34319ce6231efe326b8125598493a');

            Kakao.Link.createDefaultButton({
                container: '#btnKakao',
                objectType: 'feed',
                content: {
                    title: "ARTA",
                    description: "ARTA 입니다",
                    imageUrl: "http://fine-village.co.kr/",
                    link: {
                        mobileWebUrl: "http://fine-village.co.kr/",
                        webUrl: "http://fine-village.co.kr/"
                    }
                }
            });
        }
    </script>
{% endblock %}
{% block style_blcok %}
    <link rel="stylesheet" href="{% static 'css/user_piece_show.css' %}"/>
    <link rel="stylesheet" href="{% static 'css/category.css' %}"/>
    <link rel="stylesheet" href="{% static 'css/pagination.css' %}"/>
{% endblock %}

{% block main_blcok %}
    <div class="container-fluid">
        <div class="row">
            <div class="aside_container col-md-1 col-md-push-11">
                <p class="aside_nav">작품 보기</p>
            </div>
            <div class="content_container col-md-11 col-md-pull-1">
                <div class="article_container">
                    <div class="row row_content">
                        <div class="form-group">
                            <p class="piece_name col-xs-6"><strong>{{ piece.name }}</strong></p>
                            <p class="exhibitor col-xs-6"><strong>{{ piece.author }} - {{ piece.major }} ({{ piece.number }})</strong></p>
                        </div>
                    </div>

                    <div class="row row_content">
                        <div class="explain_piece"> <!--작품 설명-->
                            <p class="explanation">{{ piece.explain }}</p>
                        </div>
                    </div>

                    <div class="row row_content">
                        <div class="form-group">
                            <img class="piece" src="{{ piece.image.url }}" alt="보스 정우">
                        </div>
                    </div>

                    <div class="row">
                        <div class="piece_size">
                            <p class="size">{{ piece.size }}</p>
                        </div>
                    </div>

                    <div class="icon row"> <!--공유 버튼, 좋아요 버튼-->
                        <a class="share" id="btnKakao" href="javascript:shareKakao();"><i class="fa fa-share-alt"
                                                                                          aria-hidden="true"></i></a>
                        <a class="bookmark" href=""><i class="fa fa-heart" aria-hidden="true"></i></a>
                        <!-- <a class="menu_button" href=""><i class="fa fa-bars" style="font-size:15px" aria-hidden="true"></i></a> -->
                    </div>

                    <!--댓글-->
                    <div class="comments">
                        <div class="input-comment">
                            <!-- <div class="user_name">사용자 이름</div> -->
                            <label for="new-comment"></label>
                            <textarea id="new-comment" class="form-control" name="new_comment" rows="2"
                                      placeholder="댓글을 입력해주세요"></textarea>
                            <button class="submit_btn" type="submit" onclick="submitComment()">OK!</button>
                        </div>
                        <!--comment loop-->
                        {% if piece.comment.exist %}
                            {% for comment in piece.comment_set.iterator %}
                                <div class="comment-row">
                                    <div class="comment_list">
                                        <div class="user_name">{{ comment.user.username }}</div>
                                        <div class="comment-date">{{ comment.create_at }}</div>
                                        <a href="#">
                                            <div class="comment-delete">삭제</div>
                                        </a>
                                        <div class="comment-content">{{ comment.content }}</div>
                                    </div>
                                </div>
                            {% endfor %}
                        {% else %}
                            <p>아직 작성된 댓글이 없습니다! 당신이 첫번째 댓글을 달아주세요!</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        <!--extra row-->
    </div>
{% endblock %}